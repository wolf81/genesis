# GENESIS

*"In the beginning God created the heaven and the earth."*
	- The Bible, Genesis 1 verse 1

Genesis is a Lua / LÃ–VE2D based world generator. My goals with Genesis are:

* To have a library that can be easily integrated into games
* To be able to generate interesting random patterns
* Worlds should be seedable: the same seed value should generate the same world
* Worlds should be easily usable with cubemaps
* Worlds should have biomes, rivers, seas, lakes, mountains
* Allow some configuration of the generator, e.g. detail level

# CONCEPTS

The maps that are generated by Genesis are based around a cube. As such, every
time a world map is generated, actually there will be 6 face maps generated, one 
for each side of an imaginary cube.

The faces are oriented as such:

	5
	1 2 3 4
	6

So face number 5 is the north pole, face number 6 the south pole. The equator 
runs through faces 1 to 4. 

A face is compromised of tiles. Tiles contain various data for a coordinate on 
the cube, like the height, heat and moisture values.

# API

## GENESIS

The API is still a work-in-progress and as such, subject to change. With that 
said what follows is a short description of the API at time of writing.

In order to create a world, we first need to create an instance of the Genesis 
class:

	local genesis = Genesis()

To generate a new map, just call the `generate` function with a size and 
optionally a seed value. When using the same seed value, the same map will be 
created. In no seed value is supplied, a random seed will be used.

	genesis:generate(size, math.random())

It's possible to request the width and the height of the map. Since each face 
map is a square, the width and height will be equal. 

	local w, h = genesis:getSize()

After a map is generated, it is possible to request tiles based on face, x- and 
y-coordinates. The x and y coordinates are 0 indexed while the faces are indexed
from 1 to 6 (I might need to align this in the future).

	local tile = genesis:getTile(1, 0, 3) 

The above code retrieves the tile for face 1, x coordinate 0, y coordinate 3.

It's easy to loop through all the tiles in a map as such:

	local w, h = genesis:getSize()

	for face = 1, 6 do
		for x = 0, w - 1 do
			for y = 0, h - 1 do
				local tile = genesis:getTile(face, x, y)
				-- do something with the tile here ...
			end
		end
	end

## TILE

With regards to a `Tile` I won't explain every function, just the most important 
ones.

	tile:getHeightValue() -- get normalized value indicating height level
	tile:getHeightType() -- get an integer indicating the height type

	tile:getHeatValue() -- get normalized value indicating heat level
	tile:getHeatType() -- get an integer indicating the heat type

	tile:getMoistureValue() -- get normalized value indicating moisture level
	tile:getMoistureType() -- get an integer indicating the moisture type

The `get___Value()` functions will return values in 0.0 to 1.0 range. These 
values are more suitable for rendering smooth color changes. 

The `get___Type()` functions will return integer values 0 or greater. 0 means 
the type is undefined. Values 1 and greater indicate a distinct type. These 
values are more suitable for drawing terrain in a solid color.
	
# FURTHER READING

The Genesis source code is based on a variety of ideas and posts found on the 
internet. For reference I've added the most important links here.

* [Procedurally Generating Wrapping World Maps in Unity C#][0]
* [Wraparound square tile maps on a sphere][1]
* [Creating tileable noise maps][2]
* [Making maps with noise functions][3]
* [Fractal Brownian Motion][4]

[0]: http://www.jgallant.com/procedurally-generating-wrapping-world-maps-in-unity-csharp-part-1
[1]: https://www.redblobgames.com/x/1938-square-tiling-of-sphere/
[2]: https://ronvalstar.nl/creating-tileable-noise-maps
[3]: https://www.redblobgames.com/maps/terrain-from-noise/
[4]: https://thebookofshaders.com/13/
